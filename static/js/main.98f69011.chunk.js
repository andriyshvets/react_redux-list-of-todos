(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(8),r=n.n(c),s=n(3),a=n(4),o=n(12),u=n(16),i="LOADING_TODOS",l="SELECT_USER",d="GET_ERROR",j="GET_USER",b="DELETE_TODO",p=function(e){return{type:i,todos:e}},O=function(e){return{type:l,userId:e}},f=function(e){return{type:d,message:e}},h=function(e){return{type:j,user:e}},x=function(e){return{type:b,id:e}},m=function(e){return e.todos},v=function(e){return e.userId},_=function(e){return e.errorLoading},y=function(e){return e.user},C={todos:[],userId:0,errorLoading:"",user:null,sort:!1},N=Object(o.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(a.a)(Object(a.a)({},e),{},{todos:t.todos});case l:return Object(a.a)(Object(a.a)({},e),{},{userId:t.userId});case d:return Object(a.a)(Object(a.a)({},e),{},{errorLoading:t.message});case j:return Object(a.a)(Object(a.a)({},e),{},{user:t.user});case b:return Object(a.a)(Object(a.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});default:return e}}),Object(u.composeWithDevTools)()),T=N,k=n(5),L=n(2),w=n.n(L),g=n(0),E=(n(25),"https://mate.academy/students-api");function S(){return A.apply(this,arguments)}function A(){return(A=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return I.apply(this,arguments)}function I(){return(I=Object(k.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(E,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return D.apply(this,arguments)}function D(){return(D=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("".concat(E,"/todos/").concat(t),{method:"DELETE"});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(26);var B=n(1),G=function(){var e=Object(s.c)(v),t=Object(s.c)(_),n=Object(s.c)(y),c=Object(s.b)();Object(g.useEffect)((function(){function t(){return(t=Object(k.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e);case 3:n=t.sent,c(h(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),c(f("Can not load user"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var r=Object(g.useCallback)((function(e){c(O(e))}),[]);return Object(B.jsx)(B.Fragment,{children:n?Object(B.jsxs)("div",{className:"CurrentUser",children:[Object(B.jsx)("h2",{className:"CurrentUser__title",children:Object(B.jsx)("span",{children:"Selected user: ".concat(n.id)})}),Object(B.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:n.name}),Object(B.jsx)("p",{className:"CurrentUser__email",children:n.email}),Object(B.jsx)("p",{className:"CurrentUser__phone",children:n.phone}),Object(B.jsx)("button",{type:"button",onClick:function(){return r(0)},className:"CurrentUser__clear",children:"Clear"})]}):Object(B.jsx)("p",{children:t})})},J=n(10),M=n(6),z=(n(28),n(14)),F=n.n(z),W=function(){var e,t=Object(g.useState)(""),n=Object(M.a)(t,2),c=n[0],r=n[1],a=Object(g.useState)(""),o=Object(M.a)(a,2),u=o[0],i=o[1],l=Object(g.useState)("All"),d=Object(M.a)(l,2),j=d[0],b=d[1],p=Object(g.useState)(!1),f=Object(M.a)(p,2),h=f[0],_=f[1],y=Object(g.useState)(!1),C=Object(M.a)(y,2),N=C[0],T=C[1],L=Object(s.c)(m),E=Object(s.c)(v),S=Object(s.b)(),A=Object(g.useCallback)(function(e,t){var n;return function(){clearTimeout(n);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];n=setTimeout.apply(void 0,[e,t].concat(r))}}(i,1e3),[]),U=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:S(x(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=Object(g.useCallback)((function(e){S(O(e))}),[]),D=function(e,t,n){var c=e.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));switch(n){case"Active":return c.filter((function(e){return!e.completed}));case"Completed":return c.filter((function(e){return e.completed}));default:return c}}(L,u,j),G=h?function(e){for(var t=Object(J.a)(e),n=t.length-1;n>0;n-=1){var c=Math.floor(Math.random()*(n+1)),r=[t[c],t[n]];t[n]=r[0],t[c]=r[1]}return t}(D):D,z=N?(e=G,Object(J.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}))):G;return Object(B.jsxs)("div",{className:"TodoList",children:[Object(B.jsx)("h2",{children:"Todos:"}),Object(B.jsx)("p",{children:"Search by title"}),Object(B.jsx)("label",{children:Object(B.jsx)("input",{type:"text",value:c,onChange:function(e){var t=e.target.value;r(t),A(t)}})}),Object(B.jsxs)("select",{value:j,onChange:function(e){var t=e.target.value;b(t)},className:"TodoList__select",children:[Object(B.jsx)("option",{children:"All"}),Object(B.jsx)("option",{children:"Active"}),Object(B.jsx)("option",{children:"Completed"})]}),Object(B.jsx)("button",{type:"button",onClick:function(){return _((function(e){return!e}))},className:"TodoList__additionButton",children:"Randomize"}),Object(B.jsx)("button",{type:"button",className:"TodoList__additionButton",onClick:function(){return T((function(e){return!e}))},children:"Sort"}),Object(B.jsx)("div",{className:"TodoList__list-container",children:Object(B.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:z.map((function(e){var t=e.userId,n=e.completed,c=e.title,r=e.id;return Object(B.jsxs)("li",{className:F()("TodoList__item",{"TodoList__item--checked":n},{"TodoList__item--unchecked":!n}),children:[Object(B.jsxs)("label",{children:[Object(B.jsx)("input",{type:"checkbox",checked:n}),Object(B.jsx)("p",{children:c})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)("button",{"data-cy":"userButton",className:F()("TodoList__user-button button",{"TodoList__user-button--selected":t===E}),type:"button",onClick:function(){return I(t)},children:t?"User ".concat(t):"No user"}),Object(B.jsx)("button",{type:"button",onClick:function(){return U(r)},className:"TodoList__deleteButton button",children:"\ud83d\uddd1"})]})]},r)}))})})]})},q=function(){var e=Object(s.c)(v),t=Object(s.c)(_),n=Object(s.b)();return Object(g.useEffect)((function(){function e(){return(e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S();case 3:t=e.sent,n(p(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(f("Can not load todos"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Redux list of todos"}),0===t.length?Object(B.jsxs)("div",{className:"App",children:[Object(B.jsx)("div",{className:"App__sidebar",children:Object(B.jsx)(W,{})}),Object(B.jsx)("div",{className:"App__content",children:Object(B.jsx)("div",{className:"App__content-container",children:e?Object(B.jsx)(G,{}):"No user selected"})})]}):Object(B.jsx)("p",{className:"App__error",children:t})]})},H=function(){return Object(B.jsx)(s.a,{store:T,children:Object(B.jsx)(q,{})})};r.a.render(Object(B.jsx)(H,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.98f69011.chunk.js.map